import{r as u,j as e,H as p,a as h,t as n}from"./app-CWQYjesW.js";import{B as j}from"./button-Dif-jUvB.js";import{C as t,a as s,b as o,c as a}from"./card-C5BbfPUs.js";import{A as f}from"./app-layout-CaRbv66n.js";import{PerformanceLines as g}from"./PerformanceLines-CMvtx7Mj.js";/* empty css            */import"./createLucideIcon-DYlXr946.js";import"./utils-BkIxhzDH.js";import"./input-oxdypoZS.js";import"./index-BMonI4iZ.js";import"./index-DensfDaT.js";import"./index-HsrAfS9P.js";import"./index-BQ3Tdzwx.js";import"./index-Dc_FVRD7.js";import"./index-p0rgwcIB.js";import"./index-CykbKIKJ.js";import"./dropdown-menu-B2Cjc48K.js";import"./chart-C34NWeoY.js";function T({kpis:r,series:i}){const m=c=>typeof c=="number"?`R$ ${c.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"—",[l,d]=u.useState(!1),x=async()=>{d(!0);try{h.post(route("customer.dashboard.export-pdf"),{},{onSuccess:()=>{n.success("PDF dos rendimentos enviado para seu email!")},onError:()=>{n.error("Erro ao enviar PDF por email. Tente novamente.")},onFinish:()=>{d(!1)}})}catch{n.error("Erro inesperado ao exportar PDF."),d(!1)}};return e.jsxs(f,{children:[e.jsx(p,{title:"Meu painel"}),e.jsxs("div",{className:"grid auto-rows-min gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4",children:[e.jsxs(t,{children:[e.jsx(s,{children:e.jsx(o,{className:"text-sm text-muted-foreground",children:"Meus aportes"})}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-semibold",children:r?.qtdAportes??0})})]}),e.jsxs(t,{children:[e.jsx(s,{children:e.jsx(o,{className:"text-sm text-muted-foreground",children:"Meu total investido"})}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-semibold",children:m(r?.totalInvestido)})})]}),e.jsxs(t,{children:[e.jsx(s,{children:e.jsx(o,{className:"text-sm text-muted-foreground",children:"Rendimentos acumulados"})}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-semibold",children:m(r?.totalRendimentos)})})]}),e.jsxs(t,{children:[e.jsx(s,{children:e.jsx(o,{className:"text-sm text-muted-foreground",children:"Média de rendimento (12 meses)"})}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-semibold",children:(typeof r.avgYield12m=="string"||typeof r.avgYield12m=="number")&&!isNaN(Number(r.avgYield12m))?`${(Number(r.avgYield12m)*100).toFixed(2)}%`:"—"})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j,{variant:"outline",onClick:x,disabled:l,children:l?"Exportando...":"Exportar PDF dos rendimentos"})}),e.jsx("div",{className:"mt-6",children:i&&Array.isArray(i)&&i.length>0?e.jsx(g,{series:i}):e.jsx(t,{className:"py-12 text-center",children:e.jsxs(s,{children:[e.jsx(o,{children:"Nenhum dado para exibir o gráfico"}),e.jsx(a,{className:"text-muted-foreground",children:"Os fluxos mensais e patrimônio só aparecem após movimentações."})]})})})]})}export{T as default};
