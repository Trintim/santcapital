import{r,j as y}from"./app-CWQYjesW.js";import{I as D}from"./input-oxdypoZS.js";function u(s){return(s||"").replace(/\D+/g,"")}function E({mask:s,value:e,onChange:g,...p}){const a=r.useRef(null),o=r.useRef(null),c=r.useRef(u(String(e??"")).length),h=t=>{o.current=t.key},m=t=>{const d=t.target.value??"";let n=u(d);const l=c.current;(o.current==="Backspace"||o.current==="Delete")&&n.length===l&&l>0&&(n=n.slice(0,-1));const f=s(n);c.current=n.length,g?.({...t,target:{...t.target,value:f}}),requestAnimationFrame(()=>{try{const i=a.current;i&&(i.selectionStart=i.selectionEnd=f.length)}catch{}})};return r.useEffect(()=>{c.current=u(String(e??"")).length},[e]),y.jsx(D,{ref:a,...p,value:typeof e=="string"?e:"",onKeyDown:h,onChange:m,inputMode:"numeric",autoComplete:"off"})}export{E as M};
