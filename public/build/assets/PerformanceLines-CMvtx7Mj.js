import{U as v,r as lt,j as f}from"./app-CWQYjesW.js";import{C as ct,a as ut,b as pt,d as ft,c as dt}from"./card-C5BbfPUs.js";import{i as mt,D as ht,f as yt,E as vt,L as z,d as K,e as gt,A as xt,g as R,h as bt,j as V,k as At,l as Pt,m as et,u as jt,G as Ot,n as X,o as kt,X as rt,Y as G,p as St,C as Dt,a as wt,R as _t,b as Ct,c as Lt}from"./chart-C34NWeoY.js";import{b as H}from"./utils-BkIxhzDH.js";/* empty css            */var Et=["type","layout","connectNulls","ref"],It=["key"];function C(t){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C(t)}function J(t,n){if(t==null)return{};var e=Nt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Nt(t,n){if(t==null)return{};var e={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(n.indexOf(r)>=0)continue;e[r]=t[r]}return e}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},B.apply(this,arguments)}function Q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,r)}return e}function x(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Q(Object(e),!0).forEach(function(r){A(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function _(t){return Bt(t)||Rt(t)||Ft(t)||Tt()}function Tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,n){if(t){if(typeof t=="string")return U(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return U(t,n)}}function Rt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bt(t){if(Array.isArray(t))return U(t)}function U(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Wt(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Z(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,at(r.key),r)}}function $t(t,n,e){return n&&Z(t.prototype,n),e&&Z(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t,n,e){return n=M(n),Mt(t,nt()?Reflect.construct(n,e||[],M(t).constructor):n.apply(t,e))}function Mt(t,n){if(n&&(C(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(t)}function qt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nt=function(){return!!t})()}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(t)}function zt(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Y(t,n)}function Y(t,n){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y(t,n)}function A(t,n,e){return n=at(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function at(t){var n=Vt(t,"string");return C(n)=="symbol"?n:n+""}function Vt(t,n){if(C(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,n);if(C(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S=function(t){function n(){var e;Wt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=Kt(this,n,[].concat(a)),A(e,"state",{isAnimationFinished:!0,totalLength:0}),A(e,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),A(e,"getStrokeDasharray",function(i,s,l){var u=l.reduce(function(P,O){return P+O});if(!u)return e.generateSimpleStrokeDasharray(s,i);for(var d=Math.floor(i/u),m=i%u,p=s-i,h=[],c=0,y=0;c<l.length;y+=l[c],++c)if(y+l[c]>m){h=[].concat(_(l.slice(0,c)),[m-y]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(_(n.repeat(l,d)),_(h),b).map(function(P){return"".concat(P,"px")}).join(", ")}),A(e,"id",jt("recharts-line-")),A(e,"pathRef",function(i){e.mainCurve=i}),A(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),A(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return zt(n,t),$t(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,m=yt(d,vt);if(!m)return null;var p=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:et(y.payload,b)}},h={clipPath:r?"url(#clipPath-".concat(a,")"):null};return v.createElement(z,h,m.map(function(c){return v.cloneElement(c,{key:"bar-".concat(c.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,m=K(this.props,!1),p=K(l,!0),h=u.map(function(y,b){var P=x(x(x({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return n.renderDotItem(l,P)}),c={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(z,B({className:"recharts-line-dots",key:"dots"},c),h)}},{key:"renderCurveStatically",value:function(r,a,o,i){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var m=J(s,Et),p=x(x(x({},K(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},i),{},{type:l,layout:u,connectNulls:d});return v.createElement(gt,B({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,m=i.animationDuration,p=i.animationEasing,h=i.animationId,c=i.animateNewValues,y=i.width,b=i.height,P=this.state,O=P.prevPoints,L=P.totalLength;return v.createElement(xt,{begin:d,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var j=D.t;if(O){var E=O.length/s.length,k=s.map(function(g,q){var T=Math.floor(q*E);if(O[T]){var F=O[T],w=R(F.x,g.x),it=R(F.y,g.y);return x(x({},g),{},{x:w(j),y:it(j)})}if(c){var ot=R(y*2,g.x),st=R(b/2,g.y);return x(x({},g),{},{x:ot(j),y:st(j)})}return x(x({},g),{},{x:g.x,y:g.y})});return o.renderCurveStatically(k,r,a)}var W=R(0,L),I=W(j),N;if(l){var $="".concat(l).split(/[,\s]+/gim).map(function(g){return parseFloat(g)});N=o.getStrokeDasharray(I,L,$)}else N=o.generateSimpleStrokeDasharray(L,I);return o.renderCurveStatically(s,r,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&i&&i.length&&(!u&&d>0||!bt(u,i))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(i,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,m=a.top,p=a.left,h=a.width,c=a.height,y=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var P=this.state.isAnimationFinished,O=s.length===1,L=H("recharts-line",l),D=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,E=D||j,k=V(b)?this.id:b,W=(r=K(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=W.r,N=I===void 0?3:I,$=W.strokeWidth,g=$===void 0?2:$,q=At(i)?i:{},T=q.clipDot,F=T===void 0?!0:T,w=N*2+g;return v.createElement(z,{className:L},D||j?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(k)},v.createElement("rect",{x:D?p:p-h/2,y:j?m:m-c/2,width:D?h:h*2,height:j?c:c*2})),!F&&v.createElement("clipPath",{id:"clipPath-dots-".concat(k)},v.createElement("rect",{x:p-w/2,y:m-w/2,width:h+w,height:c+w}))):null,!O&&this.renderCurve(E,k),this.renderErrorBar(E,k),(O||i)&&this.renderDots(E,F,k),(!y||P)&&Pt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(_(r),[0]):r,i=[],s=0;s<a;++s)i=[].concat(_(i),_(o));return i}},{key:"renderDotItem",value:function(r,a){var o;if(v.isValidElement(r))o=v.cloneElement(r,a);else if(mt(r))o=r(a);else{var i=a.key,s=J(a,It),l=H("recharts-line-dot",typeof r!="boolean"?r.className:"");o=v.createElement(ht,B({key:i},s,{className:l}))}return o}}])}(lt.PureComponent);A(S,"displayName","Line");A(S,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ot.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});A(S,"getComposedData",function(t){var n=t.props,e=t.xAxis,r=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,i=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=n.layout,m=l.map(function(p,h){var c=et(p,i);return d==="horizontal"?{x:X({axis:e,ticks:a,bandSize:s,entry:p,index:h}),y:V(c)?null:r.scale(c),value:c,payload:p}:{x:V(c)?null:e.scale(c),y:X({axis:r,ticks:o,bandSize:s,entry:p,index:h}),value:c,payload:p}});return x({points:m,layout:d},u)});var Gt=kt({chartName:"LineChart",GraphicalChild:S,axisComponents:[{axisType:"xAxis",AxisComp:rt},{axisType:"yAxis",AxisComp:G}],formatAxisMap:St});function tt(t){const[n,e,r]=t.split("-").map(Number);return new Date(n,(e??1)-1,r??1)}const Ut={net:{label:"Aporte líquido",color:"var(--chart-3)"},yields:{label:"Rendimento do mês",color:"var(--chart-2)"},equity_close:{label:"Patrimônio (fim do mês)",color:"var(--foreground)"}};function Zt({series:t}){const n=Array.isArray(t)?t:[];return f.jsxs(ct,{className:"pt-0",children:[f.jsx(ut,{className:"flex items-center gap-3 space-y-0 border-b py-5 sm:flex-row",children:f.jsxs("div",{className:"grid flex-1 gap-1",children:[f.jsx(pt,{children:"Fluxos mensais & Patrimônio"}),f.jsx(ft,{children:"Linhas: aporte líquido, rendimento do mês e patrimônio acumulado ao fim de cada mês."})]})}),f.jsx(dt,{className:"px-2 pt-2 sm:px-2 sm:pt-2",children:f.jsx(Dt,{config:Ut,className:"aspect-auto h-[300px] w-full",children:f.jsxs(Gt,{data:n,margin:{top:8,right:8,bottom:8,left:8},children:[f.jsx(wt,{vertical:!1}),f.jsx(rt,{dataKey:"label",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:24,tickFormatter:e=>tt(e).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),f.jsx(G,{yAxisId:"left",width:90,tickMargin:0,tickLine:{stroke:"hsl(var(--border))",strokeOpacity:.6},tickFormatter:e=>`R$ ${e.toLocaleString("pt-BR",{maximumFractionDigits:0})}`}),f.jsx(G,{yAxisId:"right",orientation:"right",tickFormatter:()=>"",tickLine:!1,axisLine:!1}),f.jsx(_t,{yAxisId:"left",y:0,stroke:"hsl(var(--border))",strokeOpacity:.6}),f.jsx(Ct,{cursor:!1,content:f.jsx(Lt,{indicator:"line",labelFormatter:e=>tt(String(e)).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})}),f.jsx(S,{yAxisId:"left",type:"monotone",dataKey:"net",name:"Aporte líquido",stroke:"var(--color-net)",strokeWidth:2,dot:{r:2},activeDot:{r:4}}),f.jsx(S,{yAxisId:"left",type:"monotone",dataKey:"yields",name:"Rendimento do mês",stroke:"var(--color-yields)",strokeWidth:2,dot:{r:2},activeDot:{r:4}}),f.jsx(S,{yAxisId:"right",type:"monotone",dataKey:"equity_close",name:"Patrimônio (fim do mês)",stroke:"var(--color-equity_close)",strokeWidth:3,dot:{r:2},activeDot:{r:4}})]})})})]})}export{Zt as PerformanceLines};
