import{j as e,r as _,u as v,b as C,H as N}from"./app-CWQYjesW.js";import{I as d}from"./input-error-BD4lUoz8.js";import{B as p}from"./button-Dif-jUvB.js";import{I as n}from"./input-oxdypoZS.js";import{L as r}from"./label-DTM-FZR3.js";import{H as D,S as k}from"./layout-CKjN6xQa.js";import{R as F,b as w,C as S,a as b,T as E,D as P,P as T,O as B}from"./index-BMonI4iZ.js";import{c as h}from"./utils-BkIxhzDH.js";import{X as z,A as I}from"./app-layout-CaRbv66n.js";import{C as f}from"./card-C5BbfPUs.js";import{z as R}from"./transition-DO_jiW-7.js";/* empty css            */import"./createLucideIcon-DYlXr946.js";import"./index-BQ3Tdzwx.js";import"./index-DensfDaT.js";import"./index-HsrAfS9P.js";import"./index-Dc_FVRD7.js";import"./index-p0rgwcIB.js";import"./index-CykbKIKJ.js";import"./dropdown-menu-B2Cjc48K.js";function A({...s}){return e.jsx(F,{"data-slot":"dialog",...s})}function H({...s}){return e.jsx(w,{"data-slot":"dialog-trigger",...s})}function L({...s}){return e.jsx(T,{"data-slot":"dialog-portal",...s})}function q({...s}){return e.jsx(b,{"data-slot":"dialog-close",...s})}function O({className:s,...o}){return e.jsx(B,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...o})}function U({className:s,children:o,showCloseButton:m=!0,...c}){return e.jsxs(L,{"data-slot":"dialog-portal",children:[e.jsx(O,{}),e.jsxs(S,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[o,m&&e.jsxs(b,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(z,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function G({className:s,...o}){return e.jsx("div",{"data-slot":"dialog-footer",className:h("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...o})}function M({className:s,...o}){return e.jsx(E,{"data-slot":"dialog-title",className:h("text-lg leading-none font-semibold",s),...o})}function X({className:s,...o}){return e.jsx(P,{"data-slot":"dialog-description",className:h("text-muted-foreground text-sm",s),...o})}function J(){const s=_.useRef(null),{data:o,setData:m,delete:c,processing:g,reset:t,errors:i,clearErrors:j}=v({password:""}),l=u=>{u.preventDefault(),c(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>x(),onError:()=>s.current?.focus(),onFinish:()=>t()})},x=()=>{j(),t()};return e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsx(D,{title:"Excluir conta",description:"Exclua sua conta e todos os seus dados permanentemente."}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Tem certeza que deseja excluir sua conta? Esta ação é irreversível e todos os seus dados serão apagados."}),e.jsxs(A,{children:[e.jsx(H,{asChild:!0,children:e.jsx(p,{variant:"destructive",children:"Excluir conta"})}),e.jsxs(U,{children:[e.jsx(M,{children:"Confirmar exclusão"}),e.jsx(X,{children:"Digite sua senha para confirmar a exclusão da conta. Esta ação não poderá ser desfeita."}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"password",children:"Senha"}),e.jsx(n,{id:"password",type:"password",ref:s,value:o.password,onChange:u=>m("password",u.target.value),autoComplete:"current-password",placeholder:"Digite sua senha"}),e.jsx(d,{className:"mt-1",message:i.password})]}),e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsx(p,{type:"button",variant:"outline",onClick:x,children:"Cancelar"})}),e.jsx(p,{variant:"destructive",disabled:g,type:"submit",children:"Excluir definitivamente"})]})]})]})]})]})]})}const K=[{title:"Profile settings",href:"/settings/profile"}];function xe({user:s,role:o,additional:m}){const{auth:c}=C().props,g={name:s?.name??c.user.name,email:s?.email??c.user.email,phone:s?.phone??"",document:s?.document??"",birthdate:s?.birthdate?s.birthdate.split("T")[0]:"",pix_key:s?.pix_key??"",...m},{data:t,setData:i,patch:j,errors:l,processing:x,recentlySuccessful:u}=v(g),y=a=>{a.preventDefault(),j(route("profile.update"),{preserveScroll:!0})};return e.jsxs(I,{breadcrumbs:K,children:[e.jsx(N,{title:"Profile settings"}),e.jsxs(k,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-8",children:[e.jsxs(f,{className:"space-y-6 p-6 shadow-md",children:[e.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Dados Pessoais"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",children:"Nome completo"}),e.jsx(n,{id:"name",value:t.name,onChange:a=>i("name",a.target.value),required:!0,autoComplete:"name",placeholder:"Seu nome completo"}),e.jsx(d,{className:"mt-1",message:l.name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"birthdate",children:"Data de nascimento"}),e.jsx(n,{id:"birthdate",type:"date",value:t.birthdate||"",onChange:a=>i("birthdate",a.target.value)}),e.jsx(d,{className:"mt-1",message:l.birthdate})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"document",children:"Documento"}),e.jsx(n,{id:"document",value:t.document||"",placeholder:"CPF ou RG"}),e.jsx(d,{className:"mt-1",message:l.document})]})]})]}),e.jsxs(f,{className:"space-y-6 p-6 shadow-md",children:[e.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Contato"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",children:"E-mail"}),e.jsx(n,{id:"email",type:"email",value:t.email,onChange:a=>i("email",a.target.value),required:!0,autoComplete:"username",placeholder:"Seu e-mail"}),e.jsx(d,{className:"mt-1",message:l.email})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"phone",children:"Telefone"}),e.jsx(n,{id:"phone",value:t.phone||"",onChange:a=>i("phone",a.target.value),placeholder:"(99) 99999-9999"}),e.jsx(d,{className:"mt-1",message:l.phone})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"pix_key",children:"Chave Pix"}),e.jsx(n,{id:"pix_key",value:t.pix_key||"",onChange:a=>i("pix_key",a.target.value),placeholder:"Sua chave Pix"}),e.jsx(d,{className:"mt-1",message:l.pix_key})]})]})]}),(o==="customer"||o==="employee")&&e.jsxs(f,{className:"space-y-6 p-6 shadow-md",children:[e.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Informações Adicionais"}),o==="customer"&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_name",children:"Beneficiário 1 - Nome"}),e.jsx(n,{id:"beneficiary_name",value:t.beneficiary_name||"",onChange:a=>i("beneficiary_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_document",children:"Beneficiário 1 - Documento"}),e.jsx(n,{id:"beneficiary_document",value:t.beneficiary_document||"",onChange:a=>i("beneficiary_document",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_phone",children:"Beneficiário 1 - Telefone"}),e.jsx(n,{id:"beneficiary_phone",value:t.beneficiary_phone||"",onChange:a=>i("beneficiary_phone",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_2_name",children:"Beneficiário 2 - Nome"}),e.jsx(n,{id:"beneficiary_2_name",value:t.beneficiary_2_name||"",onChange:a=>i("beneficiary_2_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_2_document",children:"Beneficiário 2 - Documento"}),e.jsx(n,{id:"beneficiary_2_document",value:t.beneficiary_2_document||"",onChange:a=>i("beneficiary_2_document",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"beneficiary_2_phone",children:"Beneficiário 2 - Telefone"}),e.jsx(n,{id:"beneficiary_2_phone",value:t.beneficiary_2_phone||"",onChange:a=>i("beneficiary_2_phone",a.target.value)})]})]}),o==="employee"&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"bank_name",children:"Banco"}),e.jsx(n,{id:"bank_name",value:t.bank_name||"",onChange:a=>i("bank_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"bank_code",children:"Código do Banco"}),e.jsx(n,{id:"bank_code",value:t.bank_code||"",onChange:a=>i("bank_code",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"agency_number",children:"Agência"}),e.jsx(n,{id:"agency_number",value:t.agency_number||"",onChange:a=>i("agency_number",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"account_number",children:"Conta"}),e.jsx(n,{id:"account_number",value:t.account_number||"",onChange:a=>i("account_number",a.target.value)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{disabled:x,className:"px-8 py-2 text-lg",children:"Salvar"}),e.jsx(R,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Salvo com sucesso!"})})]})]}),e.jsx(J,{})]})]})}export{xe as default};
