import{u as y,j as e,H as w,a as c,t as u}from"./app-BTymDE-b.js";import{P as S}from"./Index-BJE5hFwe.js";import{B as C}from"./badge-FDCXrNx6.js";import{B as j}from"./button-0cFyQk5l.js";import{D,a as T,b as P,c as B,d as g}from"./dropdown-menu-8hpJ0En7.js";import{I as E}from"./input-CeqObPA2.js";import{T as I,a as A,b as d,c as a,d as _,e as r}from"./table-DufyZNTU.js";import{u as F,a as z,P as L}from"./useSort-DTQgZe5x.js";import{A as M}from"./app-layout-Ctney_0w.js";import{T as o}from"./index-CnTLoYi9.js";import{S as k}from"./search-CIJ9iWFu.js";import{C as H}from"./circle-check-CdrYDRfg.js";import{C as R}from"./circle-x-AcOgvAiC.js";import{E as q}from"./ellipsis-ChGD3H5v.js";import{E as J}from"./eye-BzbX4NxN.js";import{c as O}from"./createLucideIcon-CdDXl1n5.js";/* empty css            */import"./select-CXekZFRK.js";import"./index-Dc_FVRD7.js";import"./index-C9ZXAN1u.js";import"./index-CcDKZjMs.js";import"./index-C1SMWg6O.js";import"./index-DOyuSIH3.js";import"./index-BjsA19nC.js";import"./utils-BkIxhzDH.js";import"./check-CpxbXbUo.js";import"./index-85cLjII4.js";import"./proxy-BMoTdZYb.js";import"./index-9YGKT2P1.js";import"./index-B3n4jYYB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],X=O("ToggleLeft",V);function ye({pagination:m,filters:l}){const{data:i,setData:h}=y({search:l.search||"","per-page":l["per-page"]||15}),{handleDebounceFilter:v}=F({path:o("employee.customers.index"),initialData:i,onDataChange:h}),{handleSort:f,getSortDirection:p}=z({sortBy:l["sort-by"]||"name",sortDirection:l.direction||"asc"}),N=s=>{const t={...i,"per-page":s};h(t),c.get(o("employee.customers.index"),t,{preserveState:!0,preserveScroll:!0})},x=s=>{const t=f(s),n={...i,...t};c.get(o("employee.customers.index"),n,{preserveState:!0,preserveScroll:!0})},b=m.data.length>0;return e.jsxs(M,{children:[e.jsx(w,{title:"Clientes"}),e.jsxs("div",{className:"rounded-xl bg-accent px-3 pt-4",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsx("h1",{className:"text-lg font-bold",children:"Clientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{leftIcon:e.jsx(k,{className:"size-4"}),name:"search",placeholder:"Buscar clientes...",id:"search",value:i.search,onChange:v,className:"w-full sm:max-w-sm"}),e.jsxs(j,{type:"button",size:"sm",className:"cursor-pointer",onClick:()=>c.visit(o("employee.customers.create")),children:[e.jsx("span",{className:"text-xs",children:"Novo Cliente"}),e.jsx(L,{className:"size-4"})]})]})]}),e.jsx("div",{className:"mt-4 overflow-hidden",children:e.jsxs(I,{children:[e.jsx(A,{children:e.jsxs(d,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{sortable:!0,sortBy:"name",sortDirection:p("name"),onSort:x,children:"Nome"}),e.jsx(a,{sortable:!0,sortBy:"email",sortDirection:p("email"),onSort:x,children:"Email"}),e.jsx(a,{children:"Telefone"}),e.jsx(a,{children:"CPF/CNPJ"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:e.jsx("span",{className:"sr-only",children:"Ações"})})]})}),e.jsx(_,{children:b?m.data.map((s,t)=>e.jsxs(d,{className:"hover:!bg-secondary/10",children:[e.jsx(r,{children:t+1}),e.jsx(r,{className:"max-w-32 truncate",children:s.name}),e.jsx(r,{className:"max-w-36 truncate",children:s.email}),e.jsx(r,{children:s.phone}),e.jsx(r,{children:s.document}),e.jsx(r,{children:e.jsx(C,{variant:"default",className:s.is_active?"bg-emerald-600 hover:bg-emerald-600":"bg-red-600 hover:bg-red-600",children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"size-4"}),"Ativo"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"size-4"}),"Inativo"]})})}),e.jsx(r,{className:"text-right",children:e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsx(j,{variant:"ghost",className:"h-8 w-8 p-0","aria-label":"Abrir menu",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsx(B,{children:"Ações"}),e.jsxs(g,{onSelect:n=>{n.preventDefault(),c.visit(o("employee.customers.show",{customer:s.id}))},children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Ver ficha"]}),e.jsxs(g,{onSelect:n=>{n.preventDefault(),c.post(o("employee.customers.toggle-active",{customer:s.id}),{},{preserveState:!0,onSuccess:()=>u.success(s.is_active?"Cliente desativado com sucesso!":"Cliente ativado com sucesso!"),onError:()=>u.error("Erro ao alterar status do cliente. Tente novamente.")})},children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),s.is_active?"Desativar":"Ativar"]})]})]})})]},String(s.id))):e.jsx(d,{children:e.jsx(r,{colSpan:7,className:"h-24 text-center text-sm text-muted-foreground",children:"Nenhum cliente encontrado."})})})]})}),e.jsx(S,{meta:m?.meta,perPage:i["per-page"],setPerPage:N})]})]})}export{ye as default};
